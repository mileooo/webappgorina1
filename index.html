<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–§–µ—Ä–º–∞Fresh ‚Äî —Å–≤–µ–∂–∏–µ –æ–≤–æ—â–∏ –∏ —Ñ—Ä—É–∫—Ç—ã</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --white:#FFFFFF;
  --card-bg:#FAF9F6;
  --brand:#A4DE02;
  --cta:#FF8C42;
  --text:#2E2E2E;
  --muted:#666666;
  --border:#E6E6E6;
  --success:#5CB85C;
  --danger:#E74C3C;
  --shadow: 0 2px 8px rgba(0,0,0,0.05);
  --container:1200px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--white);color:var(--text);font-family:Inter,Arial,sans-serif;-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}
button,input,select,textarea{font-family:inherit}
.container{max-width:var(--container);margin:0 auto;padding:24px;}
.header{position:sticky;top:0;z-index:40;background:rgba(255,255,255,0.98);backdrop-filter:blur(4px);border-bottom:1px solid var(--border)}
.header-inner{max-width:var(--container);margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:16px 24px;gap:20px}
.logo{display:flex;align-items:center;gap:12px}
.logo .mark{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--brand),#7cc900);display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(164,222,2,0.12)}
.logo .mark svg{width:22px;height:22px;fill:#fff}
.logo h4{font-family:Poppins,Inter;font-weight:700;font-size:18px;margin:0;color:var(--text)}
.nav{display:flex;gap:16px;align-items:center}
.nav a{font-weight:600;padding:8px 10px;border-radius:8px}
.nav a:hover{background:var(--card-bg)}
.hero{max-width:var(--container);margin:20px auto;padding:28px;background:var(--card-bg);border-radius:16px;display:flex;gap:24px;align-items:center;box-shadow:var(--shadow)}
.hero-left{flex:1;min-width:260px}
.hero h1{font-family:Poppins;font-weight:800;font-size:40px;margin:0 0 8px;color:var(--text);line-height:1.02}
.hero p{font-size:18px;color:var(--muted);margin:0 0 12px}
.hero-cta{display:flex;gap:12px}
.btn-cta{background:var(--cta);color:#fff;border:0;padding:12px 18px;border-radius:12px;font-weight:700;cursor:pointer;font-family:Poppins;box-shadow:0 6px 18px rgba(255,140,66,0.12);transition:transform .14s}
.btn-cta:hover{transform:translateY(-3px);background:#ff7a18}
.btn-secondary{background:transparent;border:1px solid var(--border);padding:10px 14px;border-radius:10px;color:var(--text);cursor:pointer}
.hero-right{width:420px;max-width:40%}
.hero-image{border-radius:14px;overflow:hidden;height:220px;background:linear-gradient(180deg,#fff,#f6f5f3);display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow)}
.hero-image img{width:100%;height:100%;object-fit:cover;display:block;opacity:0;transition:opacity .45s}
.main{max-width:var(--container);margin:0 auto;padding:0 24px 80px}
.filters{display:flex;gap:12px;align-items:center;margin:20px 0;flex-wrap:wrap}
.filter-btn{padding:10px 14px;border-radius:12px;border:1px solid var(--border);background:transparent;font-weight:600;cursor:pointer}
.filter-btn.active{background:var(--brand);color:#fff;box-shadow:0 8px 20px rgba(164,222,2,0.12);border-color:transparent}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}
.card{background:var(--card-bg);border-radius:12px;box-shadow:var(--shadow);padding:14px;display:flex;flex-direction:column;gap:10px;height:380px;transition:transform .18s,box-shadow .18s}
.card:hover{transform:scale(1.03);box-shadow:0 8px 28px rgba(0,0,0,0.08)}
.photo{height:70%;border-radius:10px;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center}
.photo img{width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .45s}
.info{display:flex;flex-direction:column;gap:6px;flex:1}
.name{font-family:Poppins;font-weight:600;font-size:16px;color:var(--text)}
.desc{font-size:13px;color:var(--muted);min-height:34px}
.price{font-weight:700;color:var(--text);font-size:16px}
.actions{display:flex;align-items:center;gap:8px;justify-content:space-between}
.qty-input{width:84px;padding:8px;border-radius:8px;border:1px solid var(--border);text-align:center}
.add-to-cart{background:var(--brand);color:#fff;border:0;padding:10px 12px;border-radius:12px;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(164,222,2,0.12);transition:background .12s}
.add-to-cart:hover{background:var(--cta)}
.cart-panel{position:fixed;right:20px;top:90px;width:360px;background:var(--white);border-radius:12px;box-shadow:0 12px 36px rgba(0,0,0,0.12);padding:14px;z-index:60;border:1px solid var(--border);display:none}
.cart-row{display:flex;align-items:center;justify-content:space-between;background:#fbfbfb;padding:10px;border-radius:8px;border:1px solid var(--border)}
.cart-total{display:flex;justify-content:space-between;align-items:center;margin-top:10px;font-weight:800;font-size:16px}
.cart-actions{display:flex;gap:8px;margin-top:12px}
.btn{padding:10px;border-radius:12px;border:0;cursor:pointer;font-weight:700}
.btn-clear{background:#f2f2f2;color:var(--text)}
.btn-check{background:var(--brand);color:#fff}
.btn-check:hover{background:var(--cta)}
.modal { position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:80; }
.modal .panel { width:820px;max-width:95%;background:var(--card-bg);border-radius:12px;padding:20px;box-shadow:0 12px 36px rgba(0,0,0,0.18); }
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.form-row{display:flex;flex-direction:column;gap:6px;margin-bottom:8px}
.form-row label{font-weight:600;font-size:14px}
.form-row input, .form-row select, .form-row textarea {padding:10px;border-radius:8px;border:1px solid #ccc}
.form-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}
.floating-cart{
  position:fixed;
  bottom:20px;
  right:20px;
  background:var(--brand);
  color:#fff;
  padding:12px 18px;
  border-radius:40px;
  box-shadow:0 8px 18px rgba(0,0,0,0.15);
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:12px;
  z-index:100;
  transition:transform .2s,opacity .3s;
  opacity:0.95;
}
.floating-cart:hover{transform:scale(1.05);opacity:1;}
.fade-in{animation:fadeIn .35s ease both}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
@media (max-width:980px){
  .hero{flex-direction:column}
  .grid{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}
  .cart-panel{right:12px;left:12px;width:auto;top:auto;bottom:80px}
  .modal .panel{width:95%}
}
.footer{max-width:var(--container);margin:40px auto 80px;padding:24px;text-align:center;color:var(--muted);font-size:14px}
</style>
</head>
<body>
<header class="header">
  <div class="header-inner">
    <div style="display:flex;align-items:center;gap:12px">
      <div class="logo">
        <div class="mark" aria-hidden>
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C8 6 4 6 2 8c2 2 2 6 6 10s8 6 10 6c-2-6 0-12-6-22z"/></svg>
        </div>
        <h4>–§–µ—Ä–º–∞Fresh</h4>
      </div>
    </div>
    <nav class="nav" aria-label="–ú–µ–Ω—é">
      <a href="#">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="#">–ö–∞—Ç–∞–ª–æ–≥</a>
      <a href="#">–û –Ω–∞—Å</a>
      <a href="#">–î–æ—Å—Ç–∞–≤–∫–∞</a>
      <a href="#">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    </nav>
  </div>
</header>

<section class="hero container">
  <div class="hero-left">
    <h1>–°–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã ‚Äî –ø—Ä—è–º–æ –∫ –≤–∞–º –¥–æ–º–æ–π</h1>
    <p>–î–æ—Å—Ç–∞–≤–∏–º –∑–∞ 60 –º–∏–Ω—É—Ç –∏–∑ —Ñ–µ—Ä–º–µ—Ä—Å–∫–∏—Ö —Ö–æ–∑—è–π—Å—Ç–≤. –°–≤–µ–∂–µ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å.</p>
    <div class="hero-cta">
      <button class="btn-cta" id="hero-order">–ó–∞–∫–∞–∑–∞—Ç—å —Å–µ–π—á–∞—Å</button>
      <button class="btn-secondary" id="view-catalog">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–∞–ª–æ–≥</button>
    </div>
  </div>
  <div class="hero-right">
    <div class="hero-image">
      <img src="https://images.unsplash.com/photo-1518976024611-6d9b0b0b1f7f?q=80&w=1200&auto=format&fit=crop" alt="–°–≤–µ–∂–∏–µ —Ñ—Ä—É–∫—Ç—ã" />
    </div>
  </div>
</section>

<main class="main container">
  <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
    <div>
      <div class="filters" id="filters">
        <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
        <button class="filter-btn" data-filter="fruits">–§—Ä—É–∫—Ç—ã</button>
        <button class="filter-btn" data-filter="vegetables">–û–≤–æ—â–∏</button>
        <button class="filter-btn" data-filter="sets">–°–µ—Ç—ã</button>
        <button class="filter-btn" data-filter="promo">–ê–∫—Ü–∏–∏</button>
      </div>
    </div>
    <div style="margin-left:auto" class="small">–ü–æ–∫–∞–∑–∞–Ω–æ <span id="shown-count">0</span> —Ç–æ–≤–∞—Ä–æ–≤</div>
  </div>

  <div style="margin-top:12px" class="fade-in">
    <div id="catalog" class="grid"></div>
  </div>
</main>

<aside id="cart-panel" class="cart-panel" aria-hidden="true">
  <h4>–ö–æ—Ä–∑–∏–Ω–∞ <small style="color:var(--muted);font-weight:600">(<span id="cart-count-2">0</span>)</small></h4>
  <div class="cart-items" id="cart-items"></div>
  <div class="cart-total"><span>–ò—Ç–æ–≥–æ</span><span id="cart-sum">0 ‚ÇΩ</span></div>
  <div class="cart-actions">
    <button id="clear-cart" class="btn btn-clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
    <button id="goto-checkout" class="btn btn-check">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
  </div>
</aside>

<div id="modal" class="modal" aria-hidden="true">
  <div class="panel">
    <h3 style="font-family:Poppins;margin:0 0 8px">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
    <div id="modal-order-list" style="max-height:300px;overflow:auto;border:1px solid var(--border);padding:8px;border-radius:8px;background:#fff;margin-bottom:10px"></div>
    <div style="display:flex;justify-content:space-between;font-weight:700;margin-bottom:12px">
      <div>–ò—Ç–æ–≥–æ</div><div id="modal-total">0 ‚ÇΩ</div>
    </div>
    <button id="close-modal" class="btn btn-clear">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>

<div class="floating-cart" id="floating-cart">
  üõí <span id="floating-cart-count">0</span> ‚Ä¢ <span id="floating-cart-sum">0 ‚ÇΩ</span>
</div>

<footer class="footer">¬© –§–µ—Ä–º–∞Fresh ‚Äî –°–≤–µ–∂–µ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å.</footer>

<script>
// ================== –î–∞–Ω–Ω—ã–µ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–∞ ==================
const products = [
  ["üçâ –ê—Ä–±—É–∑ ‚Äî 40‚ÇΩ/–∫–≥", "–ê—Ä–±—É–∑", 40, "fruits"],
  ["üçê –ì—Ä—É—à–∞ ‚Äî 340‚ÇΩ/–∫–≥", "–ì—Ä—É—à–∞", 340, "fruits"],
  ["üçä –ê–ø–µ–ª—å—Å–∏–Ω ‚Äî 220‚ÇΩ/–∫–≥", "–ê–ø–µ–ª—å—Å–∏–Ω", 220, "fruits"],
  ["üçà –î—ã–Ω—è —Ç–æ—Ä–ø–µ–¥–∞ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω ‚Äî 80‚ÇΩ/–∫–≥", "–î—ã–Ω—è —Ç–æ—Ä–ø–µ–¥–∞ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω", 80, "fruits"],
  ["üçà –î—ã–Ω—è –∫–æ–ª—Ö–æ–∑–Ω–∏—Ü–∞ ‚Äî 80‚ÇΩ/–∫–≥", "–î—ã–Ω—è –∫–æ–ª—Ö–æ–∑–Ω–∏—Ü–∞", 80, "fruits"],
  ["üçá –í–∏–Ω–æ–≥—Ä–∞–¥ –∑–µ–ª–µ–Ω—ã–π (–±–µ–∑ –∫–æ—Å—Ç–æ—á–µ–∫) ‚Äî 320‚ÇΩ/–∫–≥", "–í–∏–Ω–æ–≥—Ä–∞–¥ –∑–µ–ª–µ–Ω—ã–π", 320, "fruits"],
  ["üçá –í–∏–Ω–æ–≥—Ä–∞–¥ —Ç–µ–º–Ω—ã–π (–±–µ–∑ –∫–æ—Å—Ç–æ—á–µ–∫) ‚Äî 320‚ÇΩ/–∫–≥", "–í–∏–Ω–æ–≥—Ä–∞–¥ —Ç–µ–º–Ω—ã–π", 320, "fruits"],
  ["üçá –í–∏–Ω–æ–≥—Ä–∞–¥ —á–µ—Ä–Ω—ã–π (–ú–µ—Ä—Å–µ–¥–µ—Å) ‚Äî 300‚ÇΩ/–∫–≥", "–í–∏–Ω–æ–≥—Ä–∞–¥ —á–µ—Ä–Ω—ã–π", 300, "fruits"],
  ["üçë –ù–µ–∫—Ç–∞—Ä–∏–Ω –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω –∫—Ä–∞—Å–Ω—ã–π ‚Äî 170‚ÇΩ/–∫–≥", "–ù–µ–∫—Ç–∞—Ä–∏–Ω –∫—Ä–∞—Å–Ω—ã–π", 170, "fruits"],
  ["üçë –ù–µ–∫—Ç–∞—Ä–∏–Ω –¢—É—Ä—Ü–∏—è ‚Äî 350‚ÇΩ/–∫–≥", "–ù–µ–∫—Ç–∞—Ä–∏–Ω –¢—É—Ä—Ü–∏—è", 350, "fruits"],
  ["üçå –ë–∞–Ω–∞–Ω ‚Äî 170‚ÇΩ/–∫–≥", "–ë–∞–Ω–∞–Ω", 170, "fruits"],
  ["ü•î –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –ß—É–≤–∞—à–∏—è ‚Äî 45‚ÇΩ/–∫–≥", "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –ß—É–≤–∞—à–∏—è", 45, "vegetables"],
  ["ü•ï –ú–æ—Ä–∫–æ–≤—å –í–æ–ª–≥–æ–≥—Ä–∞–¥ ‚Äî 45‚ÇΩ/–∫–≥", "–ú–æ—Ä–∫–æ–≤—å –í–æ–ª–≥–æ–≥—Ä–∞–¥", 45, "vegetables"],
  ["üßÖ –õ—É–∫ —Ä–µ–ø—á–∞—Ç—ã–π –í–æ–ª–≥–æ–≥—Ä–∞–¥ ‚Äî 45‚ÇΩ/–∫–≥", "–õ—É–∫ —Ä–µ–ø—á–∞—Ç—ã–π –í–æ–ª–≥–æ–≥—Ä–∞–¥", 45, "vegetables"],
  ["üå± –õ—É–∫ –∑–µ–ª–µ–Ω—ã–π ‚Äî 350‚ÇΩ/–∫–≥", "–õ—É–∫ –∑–µ–ª–µ–Ω—ã–π", 350, "vegetables"],
  ["üå± –£–∫—Ä–æ–ø, –ø–µ—Ç—Ä—É—à–∫–∞ ‚Äî 350‚ÇΩ/–∫–≥", "–£–∫—Ä–æ–ø, –ø–µ—Ç—Ä—É—à–∫–∞", 350, "vegetables"],
  ["üå± –ö–∏–Ω–∑–∞ ‚Äî 440‚ÇΩ/–∫–≥", "–ö–∏–Ω–∑–∞", 440, "vegetables"],
  ["üå± –ë–∞–∑–µ–ª–∏–∫ ‚Äî 50‚ÇΩ/–ø—É—á–æ–∫", "–ë–∞–∑–µ–ª–∏–∫ (–ø—É—á–æ–∫)", 50, "vegetables"],
  ["üßÑ –ß–µ—Å–Ω–æ–∫ –¢–∞—à–∫–µ–Ω—Ç ‚Äî 400‚ÇΩ/–∫–≥", "–ß–µ—Å–Ω–æ–∫ –¢–∞—à–∫–µ–Ω—Ç", 400, "vegetables"],
  ["ü´ë –ü–µ—Ä–µ—Ü –±–æ–ª–≥–∞—Ä—Å–∫–∏–π ‚Äî 130‚ÇΩ/–∫–≥", "–ü–µ—Ä–µ—Ü –±–æ–ª–≥–∞—Ä—Å–∫–∏–π", 130, "vegetables"],
  ["üå∂Ô∏è –ü–µ—Ä–µ—Ü —á–∏–ª–∏ ‚Äî 25‚ÇΩ/—à—Ç", "–ü–µ—Ä–µ—Ü —á–∏–ª–∏", 25, "vegetables"],
  ["üçÖ –ü–æ–º–∏–¥–æ—Ä—ã –ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω—Å–∫–∏–µ ‚Äî 220‚ÇΩ/–∫–≥", "–ü–æ–º–∏–¥–æ—Ä—ã –ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω—Å–∫–∏–µ", 220, "vegetables"],
  ["üçÖ –ü–æ–º–∏–¥–æ—Ä—ã –†–æ—Å—Ç–æ–≤—Å–∫–∏–µ ‚Äî 180‚ÇΩ/–∫–≥", "–ü–æ–º–∏–¥–æ—Ä—ã –†–æ—Å—Ç–æ–≤—Å–∫–∏–µ", 180, "vegetables"],
  ["ü•í –û–≥—É—Ä—Ü—ã –ò—Ä–∞–Ω ‚Äî 200‚ÇΩ/–∫–≥", "–û–≥—É—Ä—Ü—ã –ò—Ä–∞–Ω", 200, "vegetables"],
  ["ü•¨ –°–∞–ª–∞—Ç –ê–π—Å–±–µ—Ä–≥ ‚Äî 350‚ÇΩ/–∫–≥", "–°–∞–ª–∞—Ç –ê–π—Å–±–µ—Ä–≥", 350, "vegetables"],
  ["ü•¨ –°–∞–ª–∞—Ç –†–æ–º–∞–Ω–æ ‚Äî 400‚ÇΩ/–∫–≥", "–°–∞–ª–∞—Ç –†–æ–º–∞–Ω–æ", 400, "vegetables"],
  ["ü•¶ –ë—Ä–æ–∫–∫–æ–ª–∏ ‚Äî 440‚ÇΩ/–∫–≥", "–ë—Ä–æ–∫–∫–æ–ª–∏", 440, "vegetables"],
  ["ü•¨ –ö–∞–ø—É—Å—Ç–∞ –±–µ–ª–æ–∫–æ—á–∞–Ω–Ω–∞—è ‚Äî 40‚ÇΩ/–∫–≥", "–ö–∞–ø—É—Å—Ç–∞ –±–µ–ª–æ–∫–æ—á–∞–Ω–Ω–∞—è", 40, "vegetables"],
  ["ü•¨ –ö–∞–ø—É—Å—Ç–∞ –ø–µ–∫–∏–Ω—Å–∫–∞—è ‚Äî 90‚ÇΩ/–∫–≥", "–ö–∞–ø—É—Å—Ç–∞ –ø–µ–∫–∏–Ω—Å–∫–∞—è", 90, "vegetables"],
  ["ü•¶ –¶–≤–µ—Ç–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞ ‚Äî 170‚ÇΩ/–∫–≥", "–¶–≤–µ—Ç–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞", 170, "vegetables"],
  ["ü•ó –°–µ—Ç ¬´–§–∏—Ç–Ω–µ—Å¬ª ‚Äî 1200‚ÇΩ", "–°–µ—Ç –§–∏—Ç–Ω–µ—Å", 1200, "sets"],
  ["ü•ó –°–µ—Ç ¬´–í–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∏–π¬ª ‚Äî 900‚ÇΩ", "–°–µ—Ç –í–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∏–π", 900, "sets"],
  ["üçè –ê–∫—Ü–∏—è ¬´–Ø–±–ª–æ–∫–æ –∑–µ–ª–µ–Ω–æ–µ ‚Äî 99‚ÇΩ/–∫–≥¬ª", "–ê–∫—Ü–∏—è –Ø–±–ª–æ–∫–æ", 99, "promo"],
  ["üçì –ê–∫—Ü–∏—è ¬´–ö–ª—É–±–Ω–∏–∫–∞ ‚Äî 150‚ÇΩ/–∫–≥¬ª", "–ê–∫—Ü–∏—è –ö–ª—É–±–Ω–∏–∫–∞", 150, "promo"],
  ["ü•ù –ê–∫—Ü–∏—è ¬´–ö–∏–≤–∏ ‚Äî 130‚ÇΩ/–∫–≥¬ª", "–ê–∫—Ü–∏—è –ö–∏–≤–∏", 130, "promo"],
  ["üçä –ê–∫—Ü–∏—è ¬´–ú–∞–Ω–¥–∞—Ä–∏–Ω—ã ‚Äî 120‚ÇΩ/–∫–≥¬ª", "–ê–∫—Ü–∏—è –ú–∞–Ω–¥–∞—Ä–∏–Ω—ã", 120, "promo"]
];
// ================== –†–µ–Ω–¥–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤ ==================
const catalogEl = document.getElementById('catalog');
const shownCount = document.getElementById('shown-count');
function renderCatalog(filter="all"){
  catalogEl.innerHTML="";
  let shown=0;
  products.forEach((p,i)=>{
    if(filter==="all"||p[3]===filter){
      shown++;
      const card=document.createElement('div');card.className="card fade-in";
      card.innerHTML=`
        <div class="photo"><img src="https://source.unsplash.com/300x200/?${p[1]}" alt="${p[1]}" /></div>
        <div class="info">
          <div class="name">${p[1]}</div>
          <div class="desc">${p[0]}</div>
          <div class="price">${p[2]} ‚ÇΩ</div>
          <div class="actions">
            <input class="qty-input" type="number" min="1" value="1">
            <button class="add-to-cart">–í –∫–æ—Ä–∑–∏–Ω—É</button>
          </div>
        </div>`;
      catalogEl.appendChild(card);
      card.querySelector('img').onload=function(){this.style.opacity=1}
      const btn=card.querySelector('.add-to-cart');
      btn.addEventListener('click',()=>addToCart(p,card));
    }
  });
  shownCount.textContent=shown;
}
renderCatalog();
// ================== –§–∏–ª—å—Ç—Ä—ã ==================
document.querySelectorAll('.filter-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    renderCatalog(btn.dataset.filter);
  });
});

// ================== –ö–æ—Ä–∑–∏–Ω–∞ ==================
let cart = [];
function addToCart(product,card){
  const qty = parseInt(card.querySelector('.qty-input').value)||1;
  let item = cart.find(i=>i[1]===product[1]);
  if(item)item[2]+=qty; else cart.push([product[0],product[1],qty,product[2]]);
  updateCart();
  flyToCart(card);
}
function updateCart(){
  const cartPanel=document.getElementById('cart-panel');
  const cartItemsEl=document.getElementById('cart-items');
  const floatingCartCount=document.getElementById('floating-cart-count');
  const floatingCartSum=document.getElementById('floating-cart-sum');
  const cartSumEl=document.getElementById('cart-sum');
  cartItemsEl.innerHTML="";
  let totalCount=0,totalSum=0;
  cart.forEach(item=>{
    const row=document.createElement('div');row.className="cart-row";
    row.innerHTML=`<span>${item[1]} x ${item[2]}</span><span>${item[2]*item[3]} ‚ÇΩ</span>`;
    cartItemsEl.appendChild(row);
    totalCount+=item[2];
    totalSum+=item[2]*item[3];
  });
  floatingCartCount.textContent=totalCount;
  floatingCartSum.textContent=totalSum+" ‚ÇΩ";
  cartSumEl.textContent=totalSum+" ‚ÇΩ";
}

// ================== –ê–Ω–∏–º–∞—Ü–∏–∏ ==================
const floatingCart = document.getElementById('floating-cart');
function flyToCart(card){
  const img = card.querySelector('img');
  const flyer = img.cloneNode(true);
  const rect = img.getBoundingClientRect();
  flyer.style.position='fixed';
  flyer.style.left=rect.left+'px';
  flyer.style.top=rect.top+'px';
  flyer.style.width=rect.width+'px';
  flyer.style.height=rect.height+'px';
  flyer.style.transition='all 0.7s ease-in-out';
  flyer.style.zIndex=9999;
  document.body.appendChild(flyer);
  const cartRect = floatingCart.getBoundingClientRect();
  setTimeout(()=>{
    flyer.style.left=cartRect.left+'px';
    flyer.style.top=cartRect.top+'px';
    flyer.style.width='40px';
    flyer.style.height='40px';
    flyer.style.opacity=0;
  },10);
  flyer.addEventListener('transitionend',()=>flyer.remove());
}

// ================== –ü–ª–∞–≤–∞—é—â–∞—è –∫–æ—Ä–∑–∏–Ω–∞ ==================
floatingCart.addEventListener('click',()=>{document.getElementById('cart-panel').style.display='block'});
document.getElementById('clear-cart').addEventListener('click',()=>{cart=[];updateCart()});
document.getElementById('goto-checkout').addEventListener('click',()=>{
  const modal=document.getElementById('modal');
  const list=document.getElementById('modal-order-list');
  list.innerHTML="";
  let total=0;
  cart.forEach(i=>{
    const div=document.createElement('div');
    div.textContent=`${i[1]} x ${i[2]} = ${i[2]*i[3]} ‚ÇΩ`;
    list.appendChild(div);
    total+=i[2]*i[3];
  });
  document.getElementById('modal-total').textContent=total+" ‚ÇΩ";
  modal.style.display='flex';
});
document.getElementById('close-modal').addEventListener('click',()=>document.getElementById('modal').style.display='none');
</script>
</body>
</html>
